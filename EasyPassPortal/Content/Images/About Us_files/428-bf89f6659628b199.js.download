"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{70428:function(e,r,o){o.d(r,{Z:function(){return ed}});var a=o(85893),i=o(67294),n=o(45697),t=o.n(n),c=o(42599),l=o(22546),d=o(44988);o(376);var s=o(53031),u=o(20323),p=o(5434),g=o(45787),m=o(60306),h=o(55572);let x=c.ZP.div.withConfig({componentId:"sc-100ceca2-0"})(["display:flex;justify-content:space-between;padding-inline:",";width:100%;"],u.m1.xxxLarge),f=c.ZP.div.withConfig({componentId:"sc-100ceca2-1"})(["background-color:",";color:",";overflow:hidden;padding:"," 0;width:100%;"],e=>{let{theme:r}=e;return r.colors.primaryBackground},e=>{let{theme:r}=e;return r.colors.primaryText},u.m1.xxxLarge),v=(0,c.ZP)(g.Z).withConfig({componentId:"sc-100ceca2-2"})(["padding:0 ",";.swiper-container,.swiper{overflow:visible;}.swiper-container{padding:0 0 4px 0;> .swiper-scrollbar{height:4px;width:100%;left:0;bottom:0;background-color:",";}.swiper-scrollbar-drag{background-color:",";}}.swiper-button-disabled{opacity:0;pointer-events:none;}@media (max-width:","){padding:0 ",";}"],u.m1.xxxLarge,e=>{let{theme:r}=e;return(0,p.Z)(r.colors.primaryText,.1)},e=>{let{theme:r}=e;return(0,p.Z)(r.colors.primaryText,.5)},u.AV.medium,u.m1.large),w=c.ZP.div.withConfig({componentId:"sc-100ceca2-3"})(["display:flex;height:0;justify-content:space-between;position:absolute;top:",";transition:left 1s ease;transform:translateX(-35px);width:calc(100% - 26px);z-index:1;@media (max-width:","){display:none;}"],"calc(50% - ".concat(u.m1.max,")"),u.AV.medium),y=c.ZP.div.withConfig({componentId:"sc-100ceca2-4"})(["button{height:",";width:",";}"],u.m1.xxxLarge,u.m1.xxxLarge),b=(0,c.ZP)(m.Z).withConfig({componentId:"sc-100ceca2-5"})(["height:",";width:",";min-width:0;display:flex;justify-content:center;align-items:center;"],u.m1.xxxLarge,u.m1.xxxLarge),k=(0,c.ZP)(h.s0).withConfig({componentId:"sc-100ceca2-6"})(["margin-block-end:",";padding-inline:",";@media (max-width:","){padding-inline:",";}"],u.m1.xLarge,u.m1.xxxLarge,u.AV.medium,u.m1.large),C=e=>{let{prevElRef:r,nextElRef:o}=e;return(0,a.jsxs)(w,{children:[(0,a.jsx)(y,{ref:r,children:(0,a.jsx)(b,{size:"small",children:(0,a.jsx)(s.J,{type:"NavigateBefore",fill:u.dw.backgroundWhite})})}),(0,a.jsx)(y,{ref:o,children:(0,a.jsx)(b,{size:"small",children:(0,a.jsx)(s.J,{type:"NavigateNext",fill:u.dw.backgroundWhite})})})]})};C.propTypes={prevElRef:t().oneOfType([t().func,t().shape({current:t().any})]).isRequired,nextElRef:t().oneOfType([t().func,t().shape({current:t().any})]).isRequired};var j=o(51994);let I=c.ZP.div.withConfig({componentId:"sc-11c9cc3a-0"})(["align-items:center;display:flex;background-color:",";border-radius:",";justify-content:center;overflow:hidden;padding:0;"],e=>{let{theme:r}=e;return r.colors.secondaryBackground},u.LL.borderRadius),P=c.ZP.img.withConfig({componentId:"sc-11c9cc3a-1"})(["height:auto;max-height:100%;max-width:100%;width:100%;&:hover{a{display:inline-flex;}}"]),B=c.ZP.div.withConfig({componentId:"sc-11c9cc3a-2"})(["margin-block-start:",";"],u.m1.base),T=(0,c.ZP)(j.Z).withConfig({componentId:"sc-11c9cc3a-3"})(["color:",";font-family:",";text-decoration:none;"],e=>{let{theme:r}=e;return r.colors.primaryText},u.Rq.primary),R=c.ZP.span.withConfig({componentId:"sc-11c9cc3a-4"})(["margin-top:0;"]),S=(0,c.ZP)(R).withConfig({componentId:"sc-11c9cc3a-5"})(["color:",";font-weight:",";margin-inline-start:",";text-decoration:line-through;"],e=>{let{theme:r}=e;return r.colors.secondaryText},u.vC.normal,u.m1.base);var Z=o(2615);let L=(e,r)=>{var o,a,i,n,t,c,l,d,s,u,p,g,m,h,x,f,v,w;let y;switch(r.type){case"INITIALIZE":return{imageBackground:r.theme.colors.secondaryBackground,color:y=r.colors.find(e=>e.id===r.defaultColor)||r.colors[0],productImage:(0,Z.FM)(r.defaultImage,{fmt:"auto"},"scom-productcarousel"),regularPrice:null==y?void 0:null===(a=y.priceRange)||void 0===a?void 0:null===(o=a.regular)||void 0===o?void 0:o.formattedValue,regularPriceValue:null==y?void 0:null===(n=y.priceRange)||void 0===n?void 0:null===(i=n.regular)||void 0===i?void 0:i.value,specialPrice:null==y?void 0:null===(c=y.priceRange)||void 0===c?void 0:null===(t=c.special)||void 0===t?void 0:t.formattedValue,specialPriceValue:null==y?void 0:null===(d=y.priceRange)||void 0===d?void 0:null===(l=d.special)||void 0===l?void 0:l.value};case"SELECT_COLOR":return{imageBackground:e.imageBackground,color:r.color,productImage:r.color&&r.color.image?(0,Z.FM)(r.color.image,{fmt:"auto"},"scom-productcarousel"):e.productImage,regularPrice:null===(p=r.color)||void 0===p?void 0:null===(u=p.priceRange)||void 0===u?void 0:null===(s=u.regular)||void 0===s?void 0:s.formattedValue,regularPriceValue:null==y?void 0:null===(m=y.priceRange)||void 0===m?void 0:null===(g=m.regular)||void 0===g?void 0:g.value,specialPrice:null===(f=r.color)||void 0===f?void 0:null===(x=f.priceRange)||void 0===x?void 0:null===(h=x.special)||void 0===h?void 0:h.formattedValue,specialPriceValue:null==y?void 0:null===(w=y.priceRange)||void 0===w?void 0:null===(v=w.special)||void 0===v?void 0:v.value};default:throw Error("Unknown Action Type")}},V=(e,r,o)=>{let a=e.replace(/\W+/g,"-").toLowerCase();return"/".concat(a,"/p/").concat(r,"/?color=").concat(o)},A=c.ZP.div.withConfig({componentId:"sc-bcc1cbc1-0"})(["margin:"," 0;min-height:38px;"],u.m1.base),E=c.ZP.button.withConfig({componentId:"sc-bcc1cbc1-1"})(["background-color:transparent;border-radius:50%;border:2px solid transparent;margin-right:",";padding:2px;transition:",";&:hover{border:2px solid ",";}&.swatch-selected{border:2px solid ",";&:hover{border:2px solid ",";}}"],u.m1.half,u.jj.transitionAll,e=>{let{theme:r}=e;return r.colors.primaryBorder},e=>{let{theme:r}=e;return r.colors.primaryBorder},e=>{let{theme:r}=e;return r.colors.primaryBorder}),O=c.ZP.div.withConfig({componentId:"sc-bcc1cbc1-2"})(["width:30px;height:30px;border-radius:15px;border:1px solid ",";display:flex;transform:rotate(90deg);overflow:hidden;cursor:pointer;.swatch-selected &{border-color:",";}"],e=>{let{theme:r}=e;return r.colors.secondaryBorder},e=>{let{theme:r}=e;return r.colors.tertiaryBorder}),N=c.ZP.div.withConfig({componentId:"sc-bcc1cbc1-3"})(["width:100%;",""],e=>{let{$hex:r}=e;return r&&"\n    background-color: ".concat(r,";\n  ")});var _=o(85518);let G=e=>{let{colors:r=[],handleSelectColor:o=()=>{},selectedColor:i={id:""},isLoading:n=!1}=e,t=(e,r)=>{_.tq&&r.preventDefault(),o(e)};return n?(0,a.jsx)(A,{}):(0,a.jsx)(A,{children:r.map(e=>(0,a.jsx)(E,{role:"button",type:"button","aria-pressed":e.id===i.id,className:e.id===i.id?"swatch-selected":"",children:(0,a.jsx)(O,{onClick:r=>t(e,r),onMouseOver:()=>{_.tq||o(e)},"aria-label":e.name,title:e.name,children:Array.isArray(e.colorValues)&&e.colorValues.map((r,o)=>(0,a.jsx)(N,{$hex:r},"".concat(e.id,"-").concat(r,"=").concat(parseInt(o))))})},e.id))})};G.propTypes={colors:t().array,handleSelectColor:t().func,selectedColor:t().object,isLoading:t().bool};var $=o(61421),W=e=>{let{refToCheck:r,wrapperElementRef:o=null}=e,[a,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=new IntersectionObserver(e=>{let[r]=e;n(r.isIntersecting)},{root:o,threshold:.75});return r&&e.observe(r),()=>{e.disconnect()}},[r,o]),a},q=o(99475),F=o(14798);let z=e=>{var r;let{analyticsData:o,carouselIsVisible:n,categories:t,colors:l,carouselNode:d,defaultImage:s,defaultColor:u,id:p,idx:g,isLoading:m,name:x,rank:f,showSwatches:v,trackClick:w,trackImpression:y,recToken:b=null}=e,{track:k}=(0,q.wo)(),[C,j]=(0,i.useReducer)(L,null),Z=(0,c.Fg)(),[A,E]=(0,i.useState)(!1),[O,N]=(0,i.useState)(null),_=(0,i.useCallback)(e=>{N(e)},[]),z=W({refToCheck:O,wrapperElementRef:d});(0,i.useEffect)(()=>{!A&&z&&n&&b&&(y(b),E(!0))},[n,z,A,p,y,b]),(0,i.useEffect)(()=>{m||j({type:"INITIALIZE",id:p,name:x,colors:l,defaultImage:s,defaultColor:u,theme:Z})},[p,x,l,s,u,m,Z]);let D=()=>{k({clearEcomm:!0,event:F.ON.PRODUCT_CAROUSEL_CLICK,payload:{categories:t,id:p,listing_price:C.regularPriceValue,name:x,position:g,price:C.specialPriceValue?C.specialPriceValue:C.regularPriceValue,rank:f}})};return!C||m?(0,a.jsxs)(T,{children:[(0,a.jsx)(I,{}),(0,a.jsxs)(B,{children:[v&&(0,a.jsx)(G,{isLoading:!0}),(0,a.jsx)(h.vF,{$margin:"".concat($.m1.mediumLarge," 0 ").concat($.m1.half," 0"),variant:"3",children:"\xa0"}),(0,a.jsx)(h.Ac,{variant:"4",$color:Z.colors.primaryText,children:(0,a.jsx)(R,{children:"\xa0"})})]})]}):(0,a.jsxs)(T,{ref:_,onClick:()=>{w(b),D()},href:V(x,p,null==C?void 0:null===(r=C.color)||void 0===r?void 0:r.id),"data-product-ic":o,children:[(0,a.jsx)(I,{children:(0,a.jsx)(P,{src:C.productImage,alt:x})}),(0,a.jsxs)(B,{children:[v&&(0,a.jsx)(G,{colors:l,handleSelectColor:e=>{j({type:"SELECT_COLOR",color:e})},selectedColor:C.color}),(0,a.jsx)(h.vF,{$margin:"".concat($.m1.mediumLarge," 0 ").concat($.m1.half," 0"),variant:"3",$color:Z.colors.primaryText,children:x}),(0,a.jsx)(h.vF,{variant:"3",$color:Z.colors.primaryText,children:C.specialPrice&&C.specialPrice!==C.regularPrice?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(R,{children:[C.specialPrice," "]}),(0,a.jsx)(S,{children:C.regularPrice})]}):(0,a.jsx)(R,{children:C.regularPrice})})]})]})};z.propTypes={id:t().string,analyticsData:t().array,colors:t().array,defaultImage:t().object,defaultColor:t().string,isLoading:t().bool,name:t().string,showSwatches:t().bool};var D=o(7348);let U={breakpoints:{1:{slidesPerView:1.025,slidesPerGroup:1,centeredSlides:!0,centeredSlidesBounds:!0},[parseInt(u.AV.medium)]:{slidesPerView:2,slidesPerGroup:1},[parseInt(u.AV.large)]:{slidesPerView:3,slidesPerGroup:1},[parseInt(u.AV.xlarge)]:{slidesPerView:4,slidesPerGroup:1}}},M=e=>{let{productColors:r}=e;return r.map(e=>{let{imageName:r,id:o,name:a,colorValues:i,priceRange:n}=e;return{id:o,name:a,colorValues:i.split(":").reduce((e,r)=>(""!==r&&0>e.indexOf(r)&&e.push(r),e),[]),image:{defaultHost:"assets.specialized.com",endpoint:"specialized",name:r},priceRange:n}})},H=e=>{let{productDetails:r,productsInOrder:o=[]}=e;return Array.isArray(r)?o.map(e=>{let o;let{productId:a,color:i,recToken:n}=e,t=r.find(e=>e.id===a);if(!t)return;let{id:c,name:l,colors:d=[],analyticsData:s,categories:u}=t;o=d.find(e=>e.id===i)?i:1===d.length?d[0].id:e.defaultColor?e.defaultColor:t.defaultColor;let p=d.find(e=>e.id===o)||d[0];return{id:c,name:l,colors:M({productColors:d}),defaultImage:{defaultHost:"assets.specialized.com",endpoint:"specialized",name:(null==p?void 0:p.imageName)||""},defaultColor:o,analyticsData:s,categories:u,recToken:n}}).filter(e=>e):[]};var J=o(87017),K=o(43495);d.ZP.use([d.W_]);let Q=e=>{let{isError:r,isLoading:o,productDetails:n=[],rank:t,sourceProducts:d=[],showSwatches:s,title:u,trackClick:p=()=>{},trackImpression:g=()=>{}}=e,{ref:m,notifyOfRefChange:h}=(0,D.Z)(),{ref:w,notifyOfRefChange:y}=(0,D.Z)(),b=(0,K.Z)("(max-width: ".concat($.AV.medium,")")),[j,I]=(0,i.useState)(null),[P,B]=(0,i.useState)(null),T=(0,c.Fg)(),R=(0,i.useCallback)(e=>{B(e)},[]),S=W({refToCheck:P});if((0,i.useEffect)(()=>{j&&!o&&j.update()},[j,o]),r||!o&&(!Array.isArray(n)||0===n.length))return null;if(o)return(0,a.jsxs)(i.Fragment,{children:[u&&(0,a.jsx)(k,{forwardedAs:"h4",variant:"8",$color:T.colors.primaryText,children:u}),(0,a.jsxs)(x,{children:[(0,a.jsx)(J.v,{aspectRatio:"1/1",height:"auto",removeSpacing:!0,width:"calc(25% - 15px)"}),(0,a.jsx)(J.v,{aspectRatio:"1/1",height:"auto",removeSpacing:!0,width:"calc(25% - 15px)"}),(0,a.jsx)(J.v,{aspectRatio:"1/1",height:"auto",removeSpacing:!0,width:"calc(25% - 15px)"}),(0,a.jsx)(J.v,{aspectRatio:"1/1",height:"auto",removeSpacing:!0,width:"calc(25% - 15px)"})]})]});let Z=H({productsInOrder:d,productDetails:n});return 0===Z.length?null:(0,a.jsxs)(f,{ref:R,children:[u&&(0,a.jsx)(k,{forwardedAs:"h4",variant:"8",$color:T.colors.primaryText,children:u}),(0,a.jsxs)(v,{children:[(0,a.jsx)(l.tq,{breakpoints:U.breakpoints,navigation:{prevEl:w,nextEl:m},spaceBetween:b?16:20,onSwiper:I,children:!o&&(null==Z?void 0:Z.map((e,r)=>(0,a.jsx)(l.o5,{children:(0,a.jsx)(z,{carouselIsVisible:S,carouselNode:P,idx:r+1,rank:t,...e,showSwatches:s,trackClick:p,trackImpression:g})},"".concat(e.id,"-").concat(r))))}),(0,a.jsx)(C,{prevElRef:y,nextElRef:h,isLoading:o})]})]})};Q.propTypes={isError:t().bool,isLoading:t().bool,productDetails:t().arrayOf(t().any),rank:t().number,sourceProducts:t().arrayOf(t().any),showSwatches:t().bool.isRequired,title:t().string,trackClick:t().func,trackImpression:t().func};let X={colors:{primaryBackground:u.dw.backgroundWhite,secondaryBackground:u.dw.backgroundGray1,primaryText:u.dw.scomBlack,secondaryText:u.dw.gray5,saleText:u.dw.red,primaryBorder:u.dw.backgroundScomBlack,secondaryBorder:u.dw.gray5,tertiaryBorder:u.dw.gray5}},Y={white:X,light:{colors:{primaryBackground:u.dw.backgroundGray1,secondaryBackground:u.dw.backgroundWhite,primaryText:u.dw.scomBlack,secondaryText:u.dw.gray5,saleText:u.dw.red,primaryBorder:u.dw.backgroundScomBlack,secondaryBorder:u.dw.gray5,tertiaryBorder:u.dw.gray5}},dark:{colors:{primaryBackground:u.dw.backgroundGray7,secondaryBackground:u.dw.backgroundGray7,primaryText:u.dw.backgroundWhite,secondaryText:u.dw.backgroundGray2,saleText:u.dw.primaryRed,primaryBorder:u.dw.backgroundWhite,secondaryBorder:u.dw.backgroundGray2,tertiaryBorder:"transparent"}},onyx:{colors:{primaryBackground:u.dw.backgroundScomBlack,secondaryBackground:u.dw.backgroundScomBlack,primaryText:u.dw.backgroundWhite,secondaryText:u.dw.gray5,saleText:u.dw.red,primaryBorder:u.dw.backgroundWhite,secondaryBorder:u.dw.gray5,tertiaryBorder:"transparent"}}},ee={white:u.dw.backgroundWhite,light:u.dw.backgroundGray1,dark:u.dw.backgroundGray7,onyx:u.dw.backgroundScomBlack},er=e=>Y[e]||Y.white,eo=(e,r)=>r?ee[r]||ee.light:er(e).colors.secondaryBackground,ea=(e,r)=>{let o=Y[e]||Y.white,a=eo(e,r);return{colors:{...o.colors,secondaryBackground:a}}};var ei=o(6812),en=o(82729);function et(){let e=(0,en._)(["\n  query PRODUCT_CAROUSEL_QUERY($baseSiteId: String!, $ids: String!) {\n    getProductCarousel(baseSiteId: $baseSiteId, ids: $ids) {\n      products {\n        analyticsData {\n          facetType\n          key\n          value\n        }\n        basePrice\n        categories {\n          code\n          description\n          name\n        }\n        colors {\n          colorValues\n          id\n          imageName\n          name\n          priceRange {\n            regular {\n              formattedValue\n              value\n            }\n            special {\n              formattedValue\n              value\n            }\n          }\n        }\n        defaultColor\n        id\n        moreThanOnePrice\n        name\n      }\n    }\n  }\n"]);return et=function(){return e},e}var ec=(0,o(68806).Ps)(et());let el=e=>{var r,o;let{baseSiteId:i,imageBackground:n,parentLoading:t=!1,productIds:l=[],rank:d,showSwatches:s,themeName:u="white",title:p,trackClick:g=()=>{},trackImpression:m=()=>{}}=e,h=ea(u,n),x=Array.isArray(l)&&l.length&&"string"==typeof(null==l?void 0:l[0]),f=Array.isArray(l)&&l.length&&"string"==typeof(null==l?void 0:null===(r=l[0])||void 0===r?void 0:r.productId),v=f?l.map(e=>null==e?void 0:e.productId).join(","):x?l.join(","):null,w=f?l:x?l.map(e=>({productId:e})):null,{loading:y,error:b,data:k}=(0,ei.a)(ec,{variables:{baseSiteId:i,ids:v},skip:!v});return(0,a.jsx)(c.f6,{theme:h,children:(0,a.jsx)(Q,{isLoading:y||t,isError:b,productDetails:null==k?void 0:null===(o=k.getProductCarousel)||void 0===o?void 0:o.products,rank:d,sourceProducts:w,showSwatches:s,title:p,trackClick:g,trackImpression:m})})};var ed=el;el.propTypes={baseSiteId:t().string,imageBackground:t().oneOf(["white","light","dark"]),parentLoading:t().bool,productIds:t().arrayOf(t().any),rank:t().number,showSwatches:t().bool.isRequired,themeName:t().oneOf(["white","light","dark"]),title:t().string,trackClick:t().func,trackImpression:t().func}},45787:function(e,r,o){let a=o(42599).ZP.div.withConfig({componentId:"sc-79d2fe3f-0"})(["position:relative;overflow:visible;.swiper-container{position:relative;overflow:visible;}"]);r.Z=a}}]);